#include<stdio.h>
#include<pthread.h>

void * Demo(void * p)
{
    int iSum = 0;

    printf("Inside Thread with value\n");
  
    iSum = (*(((int *)p) + 0)) + (*(((int *)p) + 1)) + (*(((int *)p) + 2)) + (*(((int *)p) + 3));

    // return iSum;
    pthread_exit((int*)iSum);
}

int main()
{
    pthread_t TID;
    int iRet = 0;
    int Value = 0;
    int Arr[] = {11, 21, 51, 101};

    printf("Main Thread Started\n");

    iRet = pthread_create(
                            &TID,           // Thread ID
                            NULL,           // Thread attributes
                            Demo,           // Thread Callback Function
                            (int *)Arr             // Parameters for the Callback Function
                         );

    if(iRet == 0)
    {
        printf("Thread gets created successfully with TID : %lu\n", (unsigned long)TID);
    }

    pthread_join(TID, &Value);

    printf("Summation is : %d\n", Value);

    printf("End of Main Thread\n");

    return 0;
}